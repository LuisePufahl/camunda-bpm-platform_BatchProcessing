<form role="form" name="form">
  <script cam-script type="text/form-script">
    camForm.on('form-loaded', function() {
	  camForm.variableManager.fetchVariable('caseList');
	  camForm.variableManager.fetchVariable('batchCluster');
    });
    camForm.on('variables-applied', function() {
	  $scope.caseList = JSON.parse(camForm.variableManager.variableValue('batchCluster'));  //JSON variable which is a string variable has to be parsed first      
    });

 
  </script>

  <h2>Order Overview</h2>

  <table>

    <tr>
      <td>ID:</td>   
   	  <td>Customer Name</td>
   	  <td>Customer Adress</td>
   	  <td>Order Item</td>
    </tr>
    
    <tr ng-repeat="(key, value) in caseList track by $index">	
      <td>{{key}}</td>
      <td>{{value.custName}}</td>
      <td>{{value.custAdress}}</td>
      <td>{{value.orderItems}}</td>
    </tr>
  </table>
  
  	<h2>Transport</h2>
  	
  	    <div class="form-group">
      <label for="inputtransport">Logistics Provider</label>
      <div class="controls">
        <input class="form-control"
               required
               type="text"
               cam-variable-name="transportbatch"
               cam-variable-type="String"
               placeholder="DHL"
               ng-minlength="2"
               ng-maxlength="20" />
      </div>
    </div>